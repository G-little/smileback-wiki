# ç•™è¨€æ¥å£æ–‡æ¡£

[TOC]
## ä¿®è®¢è®°å½•
----
æ—¥æœŸ | ä½œè€… | ä¿®è®¢ç±»å‹ | ä¿®è®¢å†…å®¹ | ç‰ˆæœ¬|
---- | ---- | ---- | ---- | ---- |
2020å¹´07æœˆ03æ—¥|å†·ç«‹çº²|A|æ–°å¢è®¾è®¡æ–¹æ¡ˆ|1.0|

> ã€ä¿®è®¢ç±»å‹ï¼šA-æ–°å¢  M-ä¿®æ”¹ D-åˆ é™¤ã€‘

## èƒŒæ™¯



## äº§å“è¯´æ˜



## å…³é”®æµç¨‹è¯´æ˜

## æ¥å£è¯´æ˜



#### 1.0 å‘é€ç•™è¨€

##### æ¥å£è¯´æ˜

æ·»åŠ ç•™è¨€ä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/note/add |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| longtitude      | æ˜¯| double  |  ç»åº¦ |  æœ€å¤šå°æ•°ç‚¹å6ä½  |
| latitude      | æ˜¯| double  |  çº¬åº¦ |   |
| roomId      | æ˜¯| string  |  ç©ºé—´ID |  |
| note      | å¦| string  |  æœ€å¤š70å­— |  |
| noteType      | å¦| int  |  ç•™è¨€ç±»å‹ | 0 æ–‡æœ¬ 1 å›¾æ–‡  |
| color      | å¦| string  |  éšæœºè‰²å€¼ |  16è¿›åˆ¶ #fffff  |
| imageUrl      | å¦| string  |  å›¾ç‰‡åœ°å€ | |
| tags      | å¦| string  |  tag æ ‡ç­¾jsonæ•°ç»„ |  å‚ç…§tagå‚æ•°è¯´æ˜ |


__tags å‚æ•°è¯´æ˜__


```json
[{
    "content": "test", //æ ‡ç­¾å†…å®¹
    "color": "default", //é¢œè‰²
    "fontSize": 12, // å­—å·
    "rotateAngel": 0.0, //æ—‹è½¬è§’åº¦
    "top": "50%", //è·ç¦»å›¾ç‰‡ä¸Šè¾¹ç™¾åˆ†æ¯”
    "left": "50%" //è·ç¦»å›¾åå·¦ä¾§ç™¾åˆ†æ¯”
}]
```

#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        "id":5
    }
}

```


#### 1.1 åˆ é™¤ç•™è¨€

##### æ¥å£è¯´æ˜

æ·»åŠ ç•™è¨€ä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/note/del |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | æ˜¯| int  |  æ¶ˆæ¯ID |  |

#####  é”™è¯¯è¯´æ˜

1. æ²¡æœ‰æ“ä½œæƒé™


#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {

    }
}

```


#### 1.2 è¯„è®º

##### æ¥å£è¯´æ˜

ä¸ºç•™è¨€æ·»åŠ è¯„è®ºä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |post             |
|:------------- |:---------------:|
| url      |/note/comment |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| comment      | æ˜¯| string  |  è¯„è®º |  |
| noteId      | æ˜¯| int  |  ç•™è¨€ID |  |
| pid      | æ˜¯| int  |  çˆ¶èŠ‚ç‚¹ID | ç‚¹å‡»å›å¤çš„ç•™è¨€IDï¼Œå¦‚æœæ²¡æœ‰å†™0  |
| tCommentId      | æ˜¯| int  | äºŒçº§è¯„è®ºçš„é¡¶çº§çˆ¶è¯„è®ºID |  å¦‚æœæ²¡æœ‰å†™0 |

#####  é”™è¯¯è¯´æ˜

1. æ²¡æœ‰æ“ä½œæƒé™


#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        "id": 10 //è¯„è®ºID
    }
}
```



#### 1.3 åˆ é™¤è¯„è®º

##### æ¥å£è¯´æ˜

ä¸ºç•™è¨€æ·»åŠ è¯„è®ºä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/note/comment/del |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| id      | æ˜¯| int  |  è¯„è®ºID |  |


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {

    }
}
```



#### 1.3 è¯¦æƒ…

##### æ¥å£è¯´æ˜

ä¸ºç•™è¨€æ·»åŠ è¯„è®ºä¿¡æ¯

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          |get             |
|:------------- |:---------------:|
| url      |/note/detail |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| noteId      | æ˜¯| int  | ç•™è¨€ID|  |
| commentId      | æ˜¯| int  | è¯„è®ºID| è‹¥å›å¤æŸæ¡è¯„è®ºåˆ™å¡«å†™å¯¹åº”å€¼ï¼Œå¦åˆ™0  |
| page      | å¦| int  | é¡µç |   |
| limit      | å¦| int  | å•é¡µæ¡æ•°|   |


#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": {
        
        {
    "c": 0,
    "m": null,
    "d": {
        "note": {
            "avatar": "/x/y/z",   //ç•™è¨€æ•°æ®
            "uid": 11443,
            "id": 2,
            "roomId": "B0FFLIND01", //ç©ºé—´ID
            "note": "test",
            "color": "#fffff",  //é¢œè‰²
            "addTime": 1594198044901,
            "commentsCount": 10
        },
        "comments": {  //è¯„è®ºæ•°æ®
            "pageSize": 10,
            "currentPage": 1,
            "list": [
                {
                    "id": 9,  //è¯„è®ºID
                    "noteId": 2,  //ç•™è¨€ID
                    "uid": 11443, //ç”¨æˆ·ID
                    "level": "L2", //å±‚çº§ID ç›´æ¥å›å¤ç•™è¨€çš„ä¸ºL1ï¼Œå…¶ä»–L2
                    "pid": 7,  //çˆ¶ID ï¼Œå›å¤æŸæ¡ç•™è¨€çš„æ—¶å€™å–è¯¥ç•™è¨€ID
                    "commentsCount": 0,  //å›å¤æ•°
                    "comment": "test", //å›å¤
                    "addTime": null, //æ·»åŠ æ—¶é—´
                    "toUid": 11443, //å›å¤äºº
                    "avatar": "/x/y/z", //å¤´åƒ
                    "toAvatar": "/x/y/z", //è¢«å›å¤å¤´åƒ
                    "reply": true, //æ˜¯å¦å›å¤
                    "tcommentId": 7 // ç•™è¨€ä¸‹L1 è¯„è®ºçš„IDï¼Œ
                },
                {
                    "id": 10,
                    "noteId": 2,
                    "uid": 11443,
                    "level": "L2",
                    "pid": 8,
                    "commentCount": null,
                    "comment": "test",
                    "addTime": null,
                    "toUid": 11443,
                    "avatar": "/x/y/z",
                    "toAvatar": null,
                    "reply": false,
                    "tcommentId": 7
                }
            ],
            "end": true,
            "empty": false
        }
    }
}
    }
}
```



#### 1.4 äº’åŠ¨çŠ¶æ€åŒæ­¥

##### æ¥å£è¯´æ˜

æ‹‰å–åŒæ­¥äº’åŠ¨çŠ¶æ€

##### è¯·æ±‚è¯´æ˜

| http è¯·æ±‚æ–¹å¼          | post    |
|:------------- |:---------------:|
| url      |/note/remind/status |

#####  è¾“å…¥å‚æ•°

| å‚æ•°          |å¿…é€‰             | ç±»å‹       | å‚æ•°è¯´æ˜        | å¤‡æ³¨          |
|:-------------|:---------------:|:-------------|:-------------|:-------------|
| commentIds      | æ˜¯| int[]  | è¯„è®ºID| è¯„è®ºIDæ•°ç»„ |



#####  é”™è¯¯è¯´æ˜




#####  è¿”å›å®ä¾‹
```json

{
    "c": 0,
    "m": null,
    "d": [
        {
            "commentId": 100, //è¯„è®ºID
            "commentDelete": false, //è¯„è®ºæ˜¯å¦åˆ é™¤
            "pcommentDelete": false, //çˆ¶è¯„è®ºæ˜¯å¦åˆ é™¤
            "tcommentDelete": false, //é¡¶çº§è¯„è®ºæ˜¯å¦åˆ é™¤
            "noteDelete": true, //æ˜¯å¦åˆ é™¤
            "remark": null, //å¤‡æ³¨å
            "roomId": "B0FFM6JAVG", //æˆ¿é—´å·
            "roomName": null // æˆ¿é—´å
        }
    ]
}

```



























